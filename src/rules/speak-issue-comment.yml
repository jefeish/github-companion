---
conditions:
  all:
    # This is an Issue
    - fact: payload.issue.id
      operator: notEmpty
      value: ''
    # This is an Issue Comment !
    - fact: payload.comment.id
      operator: notEmpty
      value: ''
    # The Issue Comment was created !
    - fact: payload.action
      operator: equal
      value: created
    # The Issue DOES NOT @mention the user! 
    # we need this because we have an explicit Rule for "user mentioned"
    # without this condition we would have the bot tell us about the Issue twice
    - fact: payload.comment.body
      operator: doesNotInclude
      value: '@jefeish'
    # Prevent loops
    - fact: payload.sender.type
      operator: notEqual
      value: Bot
event:
  type: issueTalk
  params:
    data:            
      # some greeting string
      greeting: 'hello, an Issue comment was created, '
      # what Issue info do you want to hear about ? (true/false) 
      issue_action: false
      issue_user: true
      issue_number: true
      issue_title: false
      issue_repository: true
      issue_body: false
      issue_comment: false

# default is '1'
priority: 1
